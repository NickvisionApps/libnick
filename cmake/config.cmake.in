@PACKAGE_INIT@

include("${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@Targets.cmake")
include(CMakeFindDependencyMacro)

if(DEFINED ENV{VCPKG_ROOT})
    file(TO_CMAKE_PATH $ENV{VCPKG_ROOT} VCPKG_ROOT)
    if(EXISTS "${VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake")
        set(USING_VCPKG ON)
    endif()
endif()

find_dependency(CURL REQUIRED)
find_dependency(jsoncpp CONFIG REQUIRED)
find_dependency(Intl REQUIRED)
if(USING_VCPKG)
    find_dependency(unofficial-maddy REQUIRED)
endif()
if(WIN32)
    find_dependency(sqlcipher CONFIG REQUIRED)
elseif(LINUX)
    find_dependency(Threads REQUIRED)
    find_dependency(OpenSSL REQUIRED)
    find_dependency(PkgConfig REQUIRED)
    pkg_check_modules(glib REQUIRED IMPORTED_TARGET glib-2.0)
    pkg_check_modules(gio REQUIRED IMPORTED_TARGET gio-2.0)
    pkg_check_modules(gmodule REQUIRED IMPORTED_TARGET gmodule-2.0)
    pkg_check_modules(gobject REQUIRED IMPORTED_TARGET gobject-2.0)
    pkg_check_modules(gthread REQUIRED IMPORTED_TARGET gthread-2.0)
    pkg_check_modules(libsecret REQUIRED IMPORTED_TARGET libsecret-1)
    if(USING_VCPKG)
        find_dependency(unofficial-libuuid CONFIG REQUIRED)
    else()
        list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})
        find_dependency(Libuuid REQUIRED)
    endif()
elseif(APPLE)
    find_dependency(Threads REQUIRED)
    find_dependency(OpenSSL REQUIRED)
    find_dependency(PkgConfig REQUIRED)
    pkg_check_modules(glib REQUIRED IMPORTED_TARGET glib-2.0)
    pkg_check_modules(gio REQUIRED IMPORTED_TARGET gio-2.0)
    pkg_check_modules(gmodule REQUIRED IMPORTED_TARGET gmodule-2.0)
    pkg_check_modules(gobject REQUIRED IMPORTED_TARGET gobject-2.0)
    pkg_check_modules(gthread REQUIRED IMPORTED_TARGET gthread-2.0)
endif()

check_required_components(libnick)