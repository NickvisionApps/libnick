\chapter{Defining Events In Your Classes}
\hypertarget{md_manual_2events}{}\label{md_manual_2events}\index{Defining Events In Your Classes@{Defining Events In Your Classes}}
\label{md_manual_2events_autotoc_md1}%
\Hypertarget{md_manual_2events_autotoc_md1}%
libnick events are designed to easily integrate within your classes to easily notify consumers of changes in state of an object.

Let\textquotesingle{}s take a look at {\ttfamily Configuration\+Base} and how it defines and uses events.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class\ }ConfigurationBase}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ Events::Event<Events::EventArgs>\&\ saved()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_saved;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{bool}\ save()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ \ \ \ \ saved(\{\});\ \textcolor{comment}{//Same\ as\ saved.invoke(\{\});}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{private}:}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ Events::Event<Events::EventArgs>\ m\_saved;}
\DoxyCodeLine{\};}

\end{DoxyCode}


Here we can see how {\ttfamily Configuration\+Base} defines a {\ttfamily saved} event, exposes it to the consumer, and triggers/invokes the event within its {\ttfamily save} method.

A consumer of {\ttfamily Configuration\+Base} can easily subscribe to the event and have its handler called when the configuration object is saved\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ handler(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_nickvision_1_1_events_1_1_event_args}{Nickvision::Events::EventArgs}}\&\ e)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Config\ saved."{}}\ <<\ std::endl;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ ConfigurationBase\ base\{\ ...\ \};}
\DoxyCodeLine{\ \ \ \ base.saved()\ +=\ handler;}
\DoxyCodeLine{\ \ \ \ base.save();}
\DoxyCodeLine{\}}

\end{DoxyCode}


This program will print "{}\+Config saved."{} as a result of the event being invoke once the save method was called. 