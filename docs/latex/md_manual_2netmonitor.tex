\chapter{Monitoring Network Connectivity}
\hypertarget{md_manual_2netmonitor}{}\label{md_manual_2netmonitor}\index{Monitoring Network Connectivity@{Monitoring Network Connectivity}}
\label{md_manual_2netmonitor_autotoc_md3}%
\Hypertarget{md_manual_2netmonitor_autotoc_md3}%
The {\ttfamily Network\+Monitor} provides an easy to use API to monitor for changes in the system\textquotesingle{}s network connectivity.

Take the following program that checks the network status on startup and watches for changes\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ onNetChanged(\textcolor{keyword}{const}\ NetworkStateChangedEventArgs\&\ e)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Network\ state\ changed:\ "{}}\ <<\ (int)e.getState()\ <<\ std::endl;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ NetworkMonitor\ netmon;}
\DoxyCodeLine{\ \ \ \ netmon.stateChanged()\ +=\ onNetChanged;}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//Have\ to\ check\ initial\ state}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(netmon.getConnectedState()\ ==\ NetworkState::ConnectedGlobal)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Connected\ to\ internet\ on\ startup."{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}No\ connectivity\ on\ startup."{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Listening\ for\ changes..."{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}(\textcolor{keyword}{true})}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::this\_thread::sleep\_for(std::chrono::milliseconds(100));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 