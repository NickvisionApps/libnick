\doxysection{Nickvision\+::Database\+::Sql\+Database Class Reference}
\hypertarget{class_nickvision_1_1_database_1_1_sql_database}{}\label{class_nickvision_1_1_database_1_1_sql_database}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}


A sqlite (sqlcipher) database.  




{\ttfamily \#include $<$sqldatabase.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a18f42878c9292f8d8bbeb2edc45e8bca}{Sql\+Database}} (const std\+::filesystem\+::path \&path, int flags)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a7a1bcb9653a74d09f53f5af237e8d2fc}{Sql\+Database}} (const \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&database)
\begin{DoxyCompactList}\small\item\em Copies a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a497a8d094b2288f5200f7d8e71092fcc}{Sql\+Database}} (\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&\&database) noexcept
\begin{DoxyCompactList}\small\item\em Moves a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. \end{DoxyCompactList}\item 
const std\+::filesystem\+::path \& \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a2fc935d862d367d6a17598ee641b0d16}{get\+Path}} () const
\begin{DoxyCompactList}\small\item\em Gets the path of the database file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_ab7ca7bd43149ad2b9d9d1b7f70a79a99}{is\+Encrypted}} () const
\begin{DoxyCompactList}\small\item\em Gets whether or not the database is encrypted. \end{DoxyCompactList}\item 
sqlite3 \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_ae9cc49eb27d6b69cacdc4bd1035ad450}{c\+\_\+obj}} ()
\begin{DoxyCompactList}\small\item\em Returns the underlying sqlite3 object pointer for the database. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a97d715f07e3790bf35c872b7d3709ffd}{unlock}} (const std\+::string \&password)
\begin{DoxyCompactList}\small\item\em Unlocks the database. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_aa9eb0996e6092630fbe4e279966f7166}{change\+Password}} (const std\+::string \&password)
\begin{DoxyCompactList}\small\item\em Changes the database\textquotesingle{}s password. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a39c0d5b28e50ae7aa600970d7ebc225d}{exec}} (const std\+::string \&command)
\begin{DoxyCompactList}\small\item\em Executes an sql command on the database. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_statement}{Sql\+Statement}} \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a439e4d98a36c6c1847df76fe7e4718a1}{create\+Statement}} (const std\+::string \&command)
\begin{DoxyCompactList}\small\item\em Creates an new \doxylink{class_nickvision_1_1_database_1_1_sql_statement}{Sql\+Statement} for the database. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_ad4a37cf719b75ee11415750c1114d255}{register\+Function}} (const std\+::string \&name, const Sqlite\+Custom\+Function \&func, int expected\+Args=-\/1)
\begin{DoxyCompactList}\small\item\em Registers a custom sql function to the database. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \& \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a2af897206dab66bbc71427c598dcfc6c}{operator=}} (const \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&database)
\begin{DoxyCompactList}\small\item\em Copies a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \& \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_a189c3b649e0d1677d247c9d4c9e8a6a6}{operator=}} (\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&\&database) noexcept
\begin{DoxyCompactList}\small\item\em Moves a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database_ac07debd559e71958d560cb606ee17670}{operator bool}} () const
\begin{DoxyCompactList}\small\item\em Gets whether or not the object is valid or not. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A sqlite (sqlcipher) database. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a18f42878c9292f8d8bbeb2edc45e8bca}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!SqlDatabase@{SqlDatabase}}
\index{SqlDatabase@{SqlDatabase}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{SqlDatabase()}{SqlDatabase()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a18f42878c9292f8d8bbeb2edc45e8bca} 
Nickvision\+::\+Database\+::\+Sql\+Database\+::\+Sql\+Database (\begin{DoxyParamCaption}\item[{const std\+::filesystem\+::path \&}]{path}{, }\item[{int}]{flags}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}. 


\begin{DoxyParams}{Parameters}
{\em path} & The path to the database file \\
\hline
{\em flags} & The flags for opening the database \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & Thrown if error in executing sql statement \\
\hline
\end{DoxyExceptions}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a7a1bcb9653a74d09f53f5af237e8d2fc}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!SqlDatabase@{SqlDatabase}}
\index{SqlDatabase@{SqlDatabase}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{SqlDatabase()}{SqlDatabase()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a7a1bcb9653a74d09f53f5af237e8d2fc} 
Nickvision\+::\+Database\+::\+Sql\+Database\+::\+Sql\+Database (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&}]{database}{}\end{DoxyParamCaption})}



Copies a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. 


\begin{DoxyParams}{Parameters}
{\em database} & The object to move \\
\hline
\end{DoxyParams}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a497a8d094b2288f5200f7d8e71092fcc}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!SqlDatabase@{SqlDatabase}}
\index{SqlDatabase@{SqlDatabase}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{SqlDatabase()}{SqlDatabase()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a497a8d094b2288f5200f7d8e71092fcc} 
Nickvision\+::\+Database\+::\+Sql\+Database\+::\+Sql\+Database (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&\&}]{database}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}



Moves a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. 


\begin{DoxyParams}{Parameters}
{\em database} & The object to move \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_ae9cc49eb27d6b69cacdc4bd1035ad450}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!c\_obj@{c\_obj}}
\index{c\_obj@{c\_obj}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{c\_obj()}{c\_obj()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_ae9cc49eb27d6b69cacdc4bd1035ad450} 
sqlite3 \texorpdfstring{$\ast$}{*} Nickvision\+::\+Database\+::\+Sql\+Database\+::c\+\_\+obj (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Returns the underlying sqlite3 object pointer for the database. 

Using this method is strongly discouraged, as you can break the state of this object. \begin{DoxyReturn}{Returns}
sqlite3\texorpdfstring{$\ast$}{*} 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_aa9eb0996e6092630fbe4e279966f7166}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!changePassword@{changePassword}}
\index{changePassword@{changePassword}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{changePassword()}{changePassword()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_aa9eb0996e6092630fbe4e279966f7166} 
bool Nickvision\+::\+Database\+::\+Sql\+Database\+::change\+Password (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{password}{}\end{DoxyParamCaption})}



Changes the database\textquotesingle{}s password. 

Passing an empty string will unencrypt the database.

Changing the password on an encrypted database requires that the database be unlocked first, even if removing the password. 
\begin{DoxyParams}{Parameters}
{\em password} & The new database password \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if password changed, else false 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & Thrown if error in executing sql statement \\
\hline
\end{DoxyExceptions}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a439e4d98a36c6c1847df76fe7e4718a1}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!createStatement@{createStatement}}
\index{createStatement@{createStatement}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{createStatement()}{createStatement()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a439e4d98a36c6c1847df76fe7e4718a1} 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_statement}{Sql\+Statement}} Nickvision\+::\+Database\+::\+Sql\+Database\+::create\+Statement (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{command}{}\end{DoxyParamCaption})}



Creates an new \doxylink{class_nickvision_1_1_database_1_1_sql_statement}{Sql\+Statement} for the database. 


\begin{DoxyParams}{Parameters}
{\em command} & The command to bind to the statement. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new \doxylink{class_nickvision_1_1_database_1_1_sql_statement}{Sql\+Statement} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & Thrown if error in executing sql statement \\
\hline
\end{DoxyExceptions}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a39c0d5b28e50ae7aa600970d7ebc225d}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!exec@{exec}}
\index{exec@{exec}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{exec()}{exec()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a39c0d5b28e50ae7aa600970d7ebc225d} 
bool Nickvision\+::\+Database\+::\+Sql\+Database\+::exec (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{command}{}\end{DoxyParamCaption})}



Executes an sql command on the database. 


\begin{DoxyParams}{Parameters}
{\em command} & The command to execute \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if command returned SQLITE\+\_\+\+OK, else false 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a2fc935d862d367d6a17598ee641b0d16}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!getPath@{getPath}}
\index{getPath@{getPath}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{getPath()}{getPath()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a2fc935d862d367d6a17598ee641b0d16} 
const std\+::filesystem\+::path \& Nickvision\+::\+Database\+::\+Sql\+Database\+::get\+Path (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Gets the path of the database file. 

\begin{DoxyReturn}{Returns}
The database file path 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_ab7ca7bd43149ad2b9d9d1b7f70a79a99}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!isEncrypted@{isEncrypted}}
\index{isEncrypted@{isEncrypted}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{isEncrypted()}{isEncrypted()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_ab7ca7bd43149ad2b9d9d1b7f70a79a99} 
bool Nickvision\+::\+Database\+::\+Sql\+Database\+::is\+Encrypted (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Gets whether or not the database is encrypted. 

\begin{DoxyReturn}{Returns}
True if encrypted, else false 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_ac07debd559e71958d560cb606ee17670}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_ac07debd559e71958d560cb606ee17670} 
Nickvision\+::\+Database\+::\+Sql\+Database\+::operator bool (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Gets whether or not the object is valid or not. 

\begin{DoxyReturn}{Returns}
True if valid (if is\+Encrypted ? is\+Unlocked \+: true), else false 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a2af897206dab66bbc71427c598dcfc6c}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!operator=@{operator=}}
\index{operator=@{operator=}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a2af897206dab66bbc71427c598dcfc6c} 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \& Nickvision\+::\+Database\+::\+Sql\+Database\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&}]{database}{}\end{DoxyParamCaption})}



Copies a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. 


\begin{DoxyParams}{Parameters}
{\em database} & The \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
this 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a189c3b649e0d1677d247c9d4c9e8a6a6}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!operator=@{operator=}}
\index{operator=@{operator=}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a189c3b649e0d1677d247c9d4c9e8a6a6} 
\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \& Nickvision\+::\+Database\+::\+Sql\+Database\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database}} \&\&}]{database}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}



Moves a \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} object. 


\begin{DoxyParams}{Parameters}
{\em database} & The \doxylink{class_nickvision_1_1_database_1_1_sql_database}{Sql\+Database} to move \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
this 
\end{DoxyReturn}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_ad4a37cf719b75ee11415750c1114d255}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!registerFunction@{registerFunction}}
\index{registerFunction@{registerFunction}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{registerFunction()}{registerFunction()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_ad4a37cf719b75ee11415750c1114d255} 
void Nickvision\+::\+Database\+::\+Sql\+Database\+::register\+Function (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name}{, }\item[{const Sqlite\+Custom\+Function \&}]{func}{, }\item[{int}]{expected\+Args}{ = {\ttfamily -\/1}}\end{DoxyParamCaption})}



Registers a custom sql function to the database. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the sql function \\
\hline
{\em expected\+Args} & The number of args the sql function expects to receive (specify -\/1 for unlimited number of args) \\
\hline
{\em func} & The sql function \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & Thrown if error in executing sql statement \\
\hline
\end{DoxyExceptions}
\Hypertarget{class_nickvision_1_1_database_1_1_sql_database_a97d715f07e3790bf35c872b7d3709ffd}\index{Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}!unlock@{unlock}}
\index{unlock@{unlock}!Nickvision::Database::SqlDatabase@{Nickvision::Database::SqlDatabase}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily \label{class_nickvision_1_1_database_1_1_sql_database_a97d715f07e3790bf35c872b7d3709ffd} 
bool Nickvision\+::\+Database\+::\+Sql\+Database\+::unlock (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{password}{}\end{DoxyParamCaption})}



Unlocks the database. 

If the database is not encrypted and is newly created, this will encrypt and set its password. 
\begin{DoxyParams}{Parameters}
{\em password} & The password of the database \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if unlocked, else false 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & Thrown if error in executing sql statement \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/database/\mbox{\hyperlink{sqldatabase_8h}{sqldatabase.\+h}}\end{DoxyCompactItemize}
